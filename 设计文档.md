# 设计文档

## 界面设计

* 界面整体布局采用左右模式，左侧是本地和云端的windows系统显示，右侧是待显示分区列表

## 运行流程

### 本地恢复

* 本地已经存在wim文件，且sha-1码已经提取并写入recovery.config文件中，则进入文件校验完整性的过程
* 文件校验完整性新开一个线程，将本地的wim文件的sha-1码进行提取并和recovery.config中的对比，如果校验成功则显示分区列表
* 在分区列表中选择安装windows系统的分区，进行恢复过程
* 将选择分区格式化，然后利用wimlib-imgex工具把wim文件部署到分区内

### 云端下载恢复

* 本地不存在wim文件，可以通过云端进行下载，下载的地址写在recovery.config文件中，wim文件放在AppStore的服务器上
* 下载之前首先判断本地是否存在相同的wim文件，并检查是否有网络
* 下载完成之后的运行流程同本地一致


